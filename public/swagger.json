{
  "openapi": "3.0.0",
  "components": {
    "examples": {},
    "headers": {},
    "parameters": {},
    "requestBodies": {},
    "responses": {},
    "schemas": {
      "Badge": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        },
        "required": ["created_at", "updated_at", "name", "slug"],
        "type": "object",
        "additionalProperties": false
      },
      "AppCategoryName": {
        "type": "string",
        "enum": [
          "Uncategorised",
          "Event related",
          "Games",
          "Graphics",
          "Hardware",
          "Utility",
          "Wearable",
          "Data",
          "Silly",
          "Hacking",
          "Troll",
          "Unusable",
          "Adult",
          "Virus",
          "Interpreter"
        ]
      },
      "ProjectStatusName": {
        "type": "string",
        "enum": ["working", "in_progress", "broken", "unknown"]
      },
      "Version": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "revision": {
            "type": "number",
            "format": "double"
          },
          "semantic_version": {
            "type": "string"
          },
          "zip": {
            "type": "string"
          },
          "size_of_zip": {
            "type": "number",
            "format": "double"
          },
          "git_commit_id": {
            "type": "string"
          },
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileMetadata"
            },
            "type": "array"
          },
          "app_metadata": {
            "$ref": "#/components/schemas/MetadataFileContents"
          },
          "published_at": {
            "type": "string",
            "format": "date-time"
          },
          "download_count": {
            "type": "number",
            "format": "double"
          }
        },
        "required": [
          "user",
          "created_at",
          "updated_at",
          "revision",
          "files",
          "app_metadata",
          "published_at",
          "download_count"
        ],
        "type": "object",
        "additionalProperties": false
      },
      "User": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "admin": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "remember_token": {
            "type": "string"
          },
          "editor": {
            "type": "string"
          },
          "public": {
            "type": "boolean"
          },
          "show_projects": {
            "type": "boolean"
          },
          "email_verified_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "created_at",
          "updated_at",
          "admin",
          "name",
          "email",
          "password",
          "editor",
          "public",
          "show_projects"
        ],
        "type": "object",
        "additionalProperties": false
      },
      "FileMetadata": {
        "properties": {
          "version": {
            "$ref": "#/components/schemas/Version"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "editable": {
            "type": "boolean"
          },
          "lintable": {
            "type": "boolean"
          },
          "extension": {
            "type": "string"
          },
          "baseName": {
            "type": "string"
          },
          "mime": {
            "type": "string"
          },
          "size_of_content": {
            "type": "number",
            "format": "double"
          },
          "crc32": {
            "type": "string"
          },
          "size_formatted": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "version",
          "user",
          "created_at",
          "updated_at",
          "extension",
          "baseName",
          "size_of_content",
          "crc32",
          "size_formatted",
          "name"
        ],
        "type": "object",
        "additionalProperties": false
      },
      "Record_BadgeSlug.string_": {
        "properties": {},
        "additionalProperties": {
          "type": "string"
        },
        "type": "object",
        "description": "Construct a type with a set of properties K of type T"
      },
      "Record_BadgeSlug.Array__source-string--destination-string___": {
        "properties": {},
        "additionalProperties": {
          "items": {
            "properties": {
              "destination": {
                "type": "string"
              },
              "source": {
                "type": "string"
              }
            },
            "required": ["destination", "source"],
            "type": "object"
          },
          "type": "array"
        },
        "type": "object",
        "description": "Construct a type with a set of properties K of type T"
      },
      "MetadataFileContents": {
        "properties": {
          "category": {
            "$ref": "#/components/schemas/AppCategoryName"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "license_file": {
            "type": "string"
          },
          "is_library": {
            "type": "boolean"
          },
          "is_hidden": {
            "type": "boolean"
          },
          "semantic_version": {
            "type": "string"
          },
          "interpreter": {
            "type": "string"
          },
          "main_executable": {
            "type": "string"
          },
          "main_executable_overrides": {
            "$ref": "#/components/schemas/Record_BadgeSlug.string_"
          },
          "file_mappings": {
            "items": {
              "properties": {
                "destination": {
                  "type": "string"
                },
                "source": {
                  "type": "string"
                }
              },
              "required": ["destination", "source"],
              "type": "object"
            },
            "type": "array"
          },
          "file_mappings_overrides": {
            "$ref": "#/components/schemas/Record_BadgeSlug.Array__source-string--destination-string___"
          }
        },
        "required": ["category", "name"],
        "type": "object",
        "additionalProperties": false
      },
      "ProjectSlug": {
        "type": "string"
      },
      "Dependency": {
        "properties": {
          "project_slug": {
            "$ref": "#/components/schemas/ProjectSlug"
          },
          "semantic_version_range": {
            "type": "string"
          }
        },
        "required": ["project_slug", "semantic_version_range"],
        "type": "object",
        "additionalProperties": false
      },
      "ProjectStatusOnBadge": {
        "properties": {
          "badge": {
            "$ref": "#/components/schemas/Badge"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "$ref": "#/components/schemas/ProjectStatusName"
          }
        },
        "required": ["badge", "created_at", "updated_at", "status"],
        "type": "object",
        "additionalProperties": false
      },
      "VoteFromUser": {
        "properties": {
          "type": {
            "type": "string",
            "enum": ["up", "down", "pig"]
          },
          "comment": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["type", "user", "created_at", "updated_at"],
        "type": "object",
        "additionalProperties": false
      },
      "WarningFromUser": {
        "properties": {
          "description": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["description", "user", "created_at", "updated_at"],
        "type": "object",
        "additionalProperties": false
      },
      "Project": {
        "properties": {
          "slug": {
            "type": "string"
          },
          "user_email": {
            "type": "string"
          },
          "git": {
            "type": "string"
          },
          "allow_team_fixes": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time"
          },
          "name": {
            "type": "string"
          },
          "min_firmware": {
            "type": "number",
            "format": "double"
          },
          "max_firmware": {
            "type": "number",
            "format": "double"
          },
          "git_commit_id": {
            "type": "string"
          },
          "published_at": {
            "type": "string",
            "format": "date-time"
          },
          "download_counter": {
            "type": "number",
            "format": "double"
          },
          "license": {
            "type": "string"
          },
          "size_of_zip": {
            "type": "number",
            "format": "double"
          },
          "size_of_content": {
            "type": "number",
            "format": "double"
          },
          "category": {
            "$ref": "#/components/schemas/AppCategoryName"
          },
          "description": {
            "type": "string"
          },
          "revision": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "$ref": "#/components/schemas/ProjectStatusName"
          },
          "author": {
            "type": "string"
          },
          "interpreter": {
            "type": "string"
          },
          "version": {
            "$ref": "#/components/schemas/Version"
          },
          "badges": {
            "items": {
              "$ref": "#/components/schemas/Badge"
            },
            "type": "array"
          },
          "dependencies": {
            "items": {
              "$ref": "#/components/schemas/Dependency"
            },
            "type": "array"
          },
          "states": {
            "items": {
              "$ref": "#/components/schemas/ProjectStatusOnBadge"
            },
            "type": "array"
          },
          "versions": {
            "items": {
              "$ref": "#/components/schemas/Version"
            },
            "type": "array"
          },
          "votes": {
            "items": {
              "$ref": "#/components/schemas/VoteFromUser"
            },
            "type": "array"
          },
          "warnings": {
            "items": {
              "$ref": "#/components/schemas/WarningFromUser"
            },
            "type": "array"
          },
          "collaborators": {
            "items": {
              "$ref": "#/components/schemas/User"
            },
            "type": "array"
          }
        },
        "required": ["slug", "user_email", "created_at", "updated_at"],
        "type": "object",
        "additionalProperties": false
      },
      "ProjectCore": {
        "properties": {
          "slug": {
            "type": "string"
          },
          "user_email": {
            "type": "string"
          },
          "git": {
            "type": "string"
          },
          "allow_team_fixes": {
            "type": "boolean"
          }
        },
        "required": ["slug", "user_email"],
        "type": "object",
        "additionalProperties": false
      },
      "Exclude_ProjectCore.slug_": {
        "$ref": "#/components/schemas/ProjectCore",
        "description": "Exclude from T those types that are assignable to U"
      },
      "Partial_Omit_ProjectCore.slug__": {
        "properties": {
          "user_email": {
            "type": "string"
          },
          "git": {
            "type": "string"
          },
          "allow_team_fixes": {
            "type": "boolean"
          }
        },
        "type": "object",
        "description": "Make all properties in T optional"
      },
      "Uint8Array": {
        "description": "A typed array of 8-bit unsigned integer values. The contents are initialized to 0. If the\nrequested number of bytes could not be allocated an exception is raised.",
        "properties": {},
        "type": "object",
        "additionalProperties": false
      }
    },
    "securitySchemes": {}
  },
  "info": {
    "title": "badgehub-api",
    "version": "3",
    "description": "Node project for the BadgeHub API",
    "license": {
      "name": "MIT"
    },
    "contact": {}
  },
  "paths": {
    "/api/v3/devices": {
      "get": {
        "operationId": "GetBadges",
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Badge"
                  },
                  "type": "array"
                }
              }
            }
          }
        },
        "description": "Get list of devices (badges)",
        "tags": ["public"],
        "security": [],
        "parameters": []
      }
    },
    "/api/v3/categories": {
      "get": {
        "operationId": "GetCategories",
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AppCategoryName"
                  },
                  "type": "array"
                }
              }
            }
          }
        },
        "description": "Get list of categories",
        "tags": ["public"],
        "security": [],
        "parameters": []
      }
    },
    "/api/v3/apps": {
      "get": {
        "operationId": "GetProjects",
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Project"
                  },
                  "type": "array"
                }
              }
            }
          }
        },
        "description": "Get list of apps, optionally limited by page start/length and/or filtered by category",
        "tags": ["public"],
        "security": [],
        "parameters": [
          {
            "in": "query",
            "name": "pageStart",
            "required": false,
            "schema": {
              "format": "double",
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "pageLength",
            "required": false,
            "schema": {
              "format": "double",
              "type": "number"
            }
          },
          {
            "in": "query",
            "name": "category",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "device",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/v3/apps/{slug}": {
      "get": {
        "operationId": "GetProject",
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Project"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "reason": {
                      "type": "string"
                    }
                  },
                  "required": ["reason"],
                  "type": "object"
                }
              }
            }
          }
        },
        "description": "Get app details",
        "tags": ["public"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      },
      "post": {
        "operationId": "InsertProject",
        "responses": {
          "204": {
            "description": "No content"
          }
        },
        "description": "Create a new app",
        "tags": ["private"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Exclude_ProjectCore.slug_"
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "UpdateProject",
        "responses": {
          "204": {
            "description": "No content"
          }
        },
        "description": "Create a new app",
        "tags": ["private"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Partial_Omit_ProjectCore.slug__"
              }
            }
          }
        }
      }
    },
    "/api/v3/apps/{slug}/file/{filePath}": {
      "post": {
        "operationId": "WriteFile",
        "responses": {
          "204": {
            "description": "No content"
          }
        },
        "description": "Upload a file to the latest draft version of the project.",
        "tags": ["private"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "filePath",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/components/schemas/Uint8Array"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/api/v3/apps/{slug}/zip": {
      "post": {
        "operationId": "WriteZip",
        "responses": {
          "204": {
            "description": "No content"
          }
        },
        "description": "Upload a file to the latest draft version of the project.",
        "tags": ["private"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Uint8Array"
              }
            }
          }
        }
      }
    },
    "/api/v3/apps/{slug}/version": {
      "post": {
        "operationId": "PublishVersion",
        "responses": {
          "204": {
            "description": "No content"
          }
        },
        "tags": ["private"],
        "security": [],
        "parameters": [
          {
            "in": "path",
            "name": "slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    }
  },
  "servers": [
    {
      "url": "/"
    }
  ]
}
